"use strict";(self.webpackChunk_eightshift_docs=self.webpackChunk_eightshift_docs||[]).push([[6438],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return d}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=p(n),d=a,h=m["".concat(s,".").concat(d)]||m[d]||u[d]||o;return n?r.createElement(h,i(i({ref:t},c),{},{components:n})):r.createElement(h,i({ref:t},c))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},3649:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return p},assets:function(){return c},toc:function(){return u},default:function(){return d}});var r=n(7462),a=n(3366),o=(n(7294),n(3905)),i=["components"],l={id:"wp-cli",title:"WP-CLI"},s=void 0,p={unversionedId:"basics/wp-cli",id:"basics/wp-cli",title:"WP-CLI",description:"docs-source",source:"@site/docs/basics/wp-cli.md",sourceDirName:"basics",slug:"/basics/wp-cli",permalink:"/eightshift-docs/docs/basics/wp-cli",tags:[],version:"current",frontMatter:{id:"wp-cli",title:"WP-CLI"},sidebar:"docs",previous:{title:"Basics",permalink:"/eightshift-docs/docs/basics/basics-intro"},next:{title:"General",permalink:"/eightshift-docs/docs/basics/backend"}},c={},u=[{value:"How it works",id:"how-it-works",level:2},{value:"Options and commands",id:"options-and-commands",level:2},{value:"Commands",id:"commands",level:3},{value:"Running commands in multisite",id:"running-commands-in-multisite",level:2}],m={toc:u};function d(e){var t=e.components,n=(0,a.Z)(e,i);return(0,o.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/infinum/eightshift-libs"},(0,o.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/source-eigthshift--libs-blue?style=for-the-badge&logo=php&labelColor=2a2a2a",alt:"docs-source"}))),(0,o.kt)("p",null,"We have already mentioned the WP-CLI feature of Eightshift Boilerplate. Now, let's dig a little deeper into this awesome feature. We took our time to set up a bunch of WP-CLI commands that will help you set everything up and use all our features without worrying about correct names, files, and organization."),(0,o.kt)("h2",{id:"how-it-works"},"How it works"),(0,o.kt)("p",null,"In your project's entry point, you have something like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-php"},"/**\n * Run all WP-CLI commands.\n */\nif (class_exists(Cli::class)) {\n  (new Cli())->load('boilerplate');\n}\n")),(0,o.kt)("p",null,"This code loads WP-CLI class from Eightshift Libs responsible for registering all of our custom commands. Keep in mind that, since WP-CLI code loads inside the theme/plugin, that same theme/plugin ",(0,o.kt)("strong",{parentName:"p"},"must")," be activated in the WordPress admin."),(0,o.kt)("p",null,"To run the WP-CLI command and see what you can use, run this command in your terminal:"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"wp boilerplate --help")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"By default, your project's WP-CLI commands run under the parent name ",(0,o.kt)("inlineCode",{parentName:"p"},"boilerplate")," defined in the upper code.")),(0,o.kt)("p",null,"You can change that by simply replacing the string inside the load method like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-php"},"/**\n * Run all WP-CLI commands.\n */\nif (class_exists(Cli::class)) {\n  (new Cli())->load('superCoolTheme');\n}\n")),(0,o.kt)("p",null,"Now, your project's WP-CLI loads like this:"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"wp superCoolTheme --help"),"."),(0,o.kt)("p",null,"This is especially handy when you have multiple Eightshift Boilerplate powered themes or plugins installed. In that case, you should change the WP-CLI parent name on each of the projects."),(0,o.kt)("h2",{id:"options-and-commands"},"Options and commands"),(0,o.kt)("p",null,"When you type each command in the terminal, it will do some action. Some commands will ask you for additional parameters. You can see them if you run the ",(0,o.kt)("inlineCode",{parentName:"p"},"command name")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"--help")," like this:"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"wp boilerplate create_config --help")),(0,o.kt)("p",null,"Under the ",(0,o.kt)("inlineCode",{parentName:"p"},"OPTIONS"),", you can see all required and optional parameters you can pass to the command to fine-tune your output."),(0,o.kt)("h3",{id:"commands"},"Commands"),(0,o.kt)("p",null,"We have defined a few command prefixes:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"create")," - services classes that will be copied to your project."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"init")," - additional functions, methods and helpers that will be copied to your project."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"run")," - commands used to run an action directly from Eightshift Libs. They will not copy anything to your project."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"setup")," - commands that runs multiple already defined commands from the list."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"use")," - commands used for blocks and block-related stuff. They will copy various files and folders from the blocks folder to your project.")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("strong",{parentName:"p"},"Make WP-CLI your best friend, and your coding life will be much more comfortable, trust us."))),(0,o.kt)("p",null,"We will explain some classes that we think are necessary in more detail in the next chapter. For the rest of the classes, you can find the descriptions by running ",(0,o.kt)("inlineCode",{parentName:"p"},"--help")," after each command."),(0,o.kt)("h2",{id:"running-commands-in-multisite"},"Running commands in multisite"),(0,o.kt)("p",null,"When you are running a multisite setup you must always provide the additional ",(0,o.kt)("inlineCode",{parentName:"p"},"--url")," parameter because without that parameter WordPress will always run the code from the current primary domain set in the ",(0,o.kt)("inlineCode",{parentName:"p"},"wp-config.php"),"."),(0,o.kt)("p",null,"Here is an example for command running from the primary domain:"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"wp boilerplate create_config")),(0,o.kt)("p",null,"and here is an example for command running in the sub site:"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"wp boilerplate create_config --url='custom.domain.com'")))}d.isMDXComponent=!0}}]);